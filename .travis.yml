language: node_js

node_js:
  - lts/*

os:
  - windows
  - linux
  - osx

compiler:
  - gcc
  - clang

install:
  - if [ "$TRAVIS_OS_NAME" = "linux" ]; then sudo apt-get install libasound2 libasound2-dev libpulse-dev libjack-dev ; fi
  - if [ "$TRAVIS_OS_NAME" = "osx" ]; then brew install jack ; fi

script:
  - cd src
  - npm ci

deploy:
  on:
    tags: on
  script:
    - cd src
    - npm run build-binaries